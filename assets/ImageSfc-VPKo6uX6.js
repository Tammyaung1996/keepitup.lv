import{b}from"./icon-4BzMejV4.js";import{s as v}from"./index-hk4RlaDN.js";import{V as s,G as C,a4 as h,O as S,o as d,C as f,K as u,X as y,L as g,H as L,d as w,r as E,w as $,R as B,$ as n,S as N,U}from"./__uno--KafPJDN.js";const z={src:String,fit:{type:String,default:"fill"},position:{type:String,default:"50% 50%"},alt:String,title:String,referrerpolicy:String,width:[String,Number],height:[String,Number],radius:{type:[String,Number],default:0},loading:String,error:String,lazy:Boolean,ripple:Boolean,block:{type:Boolean,default:!0},onClick:s(),onLoad:s(),onError:s()},{name:c,n:j,classes:P}=C("image"),D=["alt","title","referrerpolicy","lazy-loading","lazy-error"],R=["alt","title","referrerpolicy","src"];function F(e,r){var l;const a=h("lazy"),t=h("ripple");return S((d(),f("div",{class:u(e.classes(e.n(),e.n("$--box"),[!e.block,e.n("$--inline-block")])),style:y({width:e.toSizeUnit(e.width),height:e.toSizeUnit(e.height),borderRadius:e.toSizeUnit(e.radius)})},[e.lazy&&!e.showErrorSlot?S((d(),f("img",{key:0,role:"img",class:u(e.n("image")),alt:e.alt,title:e.title,referrerpolicy:e.referrerpolicy,"lazy-loading":e.loading,"lazy-error":e.error,style:y({objectFit:e.fit,objectPosition:e.position}),onLoad:r[0]||(r[0]=(...o)=>e.handleLoad&&e.handleLoad(...o)),onClick:r[1]||(r[1]=(...o)=>e.handleClick&&e.handleClick(...o))},null,46,D)),[[a,(l=e.src)!=null?l:""]]):g("v-if",!0),!e.lazy&&!e.showErrorSlot?(d(),f("img",{key:1,role:"img",class:u(e.n("image")),alt:e.alt,title:e.title,referrerpolicy:e.referrerpolicy,style:y({objectFit:e.fit,objectPosition:e.position}),src:e.src,onLoad:r[2]||(r[2]=(...o)=>e.handleLoad&&e.handleLoad(...o)),onError:r[3]||(r[3]=(...o)=>e.handleError&&e.handleError(...o)),onClick:r[4]||(r[4]=(...o)=>e.handleClick&&e.handleClick(...o))},null,46,R)):g("v-if",!0),e.showErrorSlot?L(e.$slots,"error",{key:2}):g("v-if",!0)],6)),[[t,{disabled:!e.ripple}]])}const k=w({name:c,directives:{Lazy:v,Ripple:b},props:z,setup(e,{slots:r}){const l=E(!1);$(()=>e.src,()=>{l.value=!1});function a(i){l.value=!!r.error,n(e.onError,i)}function t(i){const m=i.currentTarget;if(e.lazy){if(m._lazy.state==="success"){n(e.onLoad,i);return}m._lazy.state==="error"&&a(i)}else n(e.onLoad,i)}function o(i){n(e.onClick,i)}return{showErrorSlot:l,n:j,classes:P,toSizeUnit:B,handleLoad:t,handleError:a,handleClick:o}}});k.render=F;var p=k;N(p);U(p,z);const H=p;export{H as _};
