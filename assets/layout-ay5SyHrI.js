import{E as k,G as L,j as B,o as i,C as y,H as h,y as z,I as O,J as T,K as f,g as p,L as $,M as se,D as E,N as Oe,O as re,P as Ae,d as F,c as u,Q,R as W,S as H,U as R,V as P,W as _e,X as le,F as ce,r as S,w as G,Y as ke,Z as Te,_ as Ee,$ as d,a0 as we,a1 as Le,a2 as Fe,a3 as Me,a4 as Ve,a5 as De,a6 as ze,a7 as Ge,a8 as He}from"./__uno--KafPJDN.js";import{p as w,s as ve,a as Re,b as Ue,u as je}from"./icon-4BzMejV4.js";import"./main-IOY9v_bm.js";const ue={type:{type:String,default:"default"},position:{type:String,default:"right-top"},hidden:Boolean,value:{type:[String,Number],default:0},maxValue:[String,Number],dot:Boolean,icon:k(w,"name"),namespace:k(w,"namespace"),color:String,offsetX:{type:[String,Number],default:0},offsetY:{type:[String,Number],default:0}};var Ye=Object.defineProperty,Z=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,x=(e,a,n)=>a in e?Ye(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,qe=(e,a)=>{for(var n in a||(a={}))Ke.call(a,n)&&x(e,n,a[n]);if(Z)for(var n of Z(a))Xe.call(a,n)&&x(e,n,a[n]);return e};const{name:Je,n:Qe,classes:We}=L("badge"),Ze={key:0};function xe(e,a){const n=B("var-icon");return i(),y("div",{class:f(e.classes(e.n(),e.n("$--box")))},[h(e.$slots,"default"),z(Ae,{name:e.n("$-badge-fade"),persisted:""},{default:O(()=>[re(E("span",T({class:e.classes(e.n("content"),e.n("--".concat(e.type)),[e.$slots.default,e.n("--".concat(e.position)),e.n("--offset")],[e.dot,e.n("--dot")],[e.icon,e.n("--icon")]),style:qe({background:e.color},e.offsetStyle)},e.$attrs),[e.icon?(i(),p(n,{key:0,class:f(e.n("icon")),"var-badge-cover":"",name:e.icon,namespace:e.namespace},null,8,["class","name","namespace"])):$("v-if",!0),h(e.$slots,"value",{},()=>[!e.icon&&!e.dot?(i(),y("span",Ze,se(e.value),1)):$("v-if",!0)])],16),[[Oe,!e.hidden]])]),_:3},8,["name"])],2)}const me=F({name:Je,components:{VarIcon:ve},inheritAttrs:!1,props:ue,setup(e){const a=u(()=>{const{value:t,maxValue:s}=e;return t!=null&&s!=null&&Q(t)>Q(s)?"".concat(s,"+"):t}),n=u(()=>({"--badge-offset-y":W(e.offsetY),"--badge-offset-x":W(e.offsetX)}));return{value:a,offsetStyle:n,n:Qe,classes:We}}});me.render=xe;var U=me;H(U);R(U,ue);var ea=U;const de={active:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:1},fixed:Boolean,border:Boolean,variant:Boolean,safeArea:Boolean,activeColor:String,inactiveColor:String,placeholder:Boolean,fabProps:Object,onChange:P(),onBeforeChange:P(),onFabClick:P(),"onUpdate:active":P()},fe=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function aa(){const{childProviders:e,length:a,bindChildren:n}=_e(fe);return{length:a,bottomNavigationItems:e,bindBottomNavigationItem:n}}var na=Object.defineProperty,ee=Object.getOwnPropertySymbols,oa=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,ae=(e,a,n)=>a in e?na(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,ne=(e,a)=>{for(var n in a||(a={}))oa.call(a,n)&&ae(e,n,a[n]);if(ee)for(var n of ee(a))ta.call(a,n)&&ae(e,n,a[n]);return e};const{name:ia,n:sa,classes:ra}=L("bottom-navigation"),{n:M}=L("bottom-navigation-item"),oe=M("--right-half-space"),te=M("--left-half-space"),ie=M("--right-space"),la={type:"primary"};function ca(e,a){const n=B("var-button");return i(),y(ce,null,[E("div",T({class:e.classes(e.n(),e.n("$--box"),[e.fixed,e.n("--fixed")],[e.border,e.n("--border")],[e.safeArea,e.n("--safe-area")],[e.variant,e.n("--variant")]),ref:"bottomNavigationDom",style:"z-index:".concat(e.zIndex)},e.$attrs),[h(e.$slots,"default"),e.$slots.fab?(i(),p(n,T({key:0,class:e.classes(e.n("fab"),[e.length%2,e.n("--fab-right"),e.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:e.handleFabClick},e.fabProps),{default:O(()=>[h(e.$slots,"fab")]),_:3},16,["class","onClick"])):$("v-if",!0)],16),e.fixed&&e.placeholder?(i(),y("div",{key:0,class:f(e.n("placeholder")),style:le({height:e.placeholderHeight})},null,6)):$("v-if",!0)],64)}const pe=F({name:ia,components:{VarButton:Re},props:de,setup(e,{slots:a}){const n=S(null),t=u(()=>e.active),s=u(()=>e.activeColor),m=u(()=>e.inactiveColor),v=u(()=>e.variant),b=S(),C=S({}),{length:l,bottomNavigationItems:N,bindBottomNavigationItem:r}=aa();r({active:t,activeColor:s,inactiveColor:m,variant:v,onToggle:Ce}),G(()=>l.value,A),G(()=>e.fabProps,o=>{C.value=ne(ne({},la),o)},{immediate:!0,deep:!0}),ke(()=>{Se(),a.fab&&q(l.value)}),Te(()=>{$e(),a.fab&&q(l.value)});function A(){l.value===0||_()||he()||ye()}function _(){return N.find(({name:o})=>t.value===o.value)}function he(){return N.find(({index:o})=>t.value===o.value)}function ye(){Ee(t.value)&&(t.value<0?d(e["onUpdate:active"],0):t.value>l.value-1&&d(e["onUpdate:active"],l.value-1))}function Ce(o){t.value!==o&&(e.onBeforeChange?Ne(o):X(o))}function Ne(o){const c=we(d(e.onBeforeChange,o));Promise.all(c).then(g=>{g.every(Boolean)&&X(o)})}function X(o){d(e["onUpdate:active"],o),d(e.onChange,o)}function $e(){J().forEach(c=>{c.classList.remove(oe,te,ie)})}function q(o){const c=J(),g=c.length,I=o%2===0;c.forEach((V,D)=>{Ie(I,V,D,g)})}function Ie(o,c,g,I){const V=g===I-1;if(!o&&V){c.classList.add(ie);return}const D=g===I/2-1,Be=g===I/2;D?c.classList.add(oe):Be&&c.classList.add(te)}function J(){return Array.from(n.value.querySelectorAll(".".concat(M())))}function Pe(){d(e.onFabClick)}function Se(){if(!e.fixed||!e.placeholder)return;const{height:o}=Le(n.value);b.value="".concat(o,"px")}return{length:l,bottomNavigationDom:n,fabProps:C,placeholderHeight:b,n:sa,classes:ra,handleFabClick:Pe}}});pe.render=ca;var j=pe;H(j);R(j,de);const va=j,be={name:String,label:String,icon:k(w,"name"),namespace:k(w,"namespace"),badge:{type:[Boolean,Object],default:!1},onClick:P()};function ua(){const{parentProvider:e,index:a,bindParent:n}=Fe(fe);return n||Me("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:a,bottomNavigation:e,bindBottomNavigation:n}}const{name:ma,n:da,classes:fa}=L("bottom-navigation-item"),pa={type:"danger",dot:!0};function ba(e,a){const n=B("var-icon"),t=B("var-badge"),s=Ve("ripple");return re((i(),y("button",{class:f(e.classes(e.n(),e.n("$--box"),[e.variant,e.n("--variant-padding")],[e.isActive&&!e.variant,e.n("--active")])),style:le({color:e.isActive?e.activeColor:e.inactiveColor}),onClick:a[0]||(a[0]=(...m)=>e.handleClick&&e.handleClick(...m))},[E("div",{class:f(e.classes(e.n("icon-container"),[e.variant,e.n("--variant-icon-container")],[e.isActive&&e.variant,e.n("--variant-active")]))},[e.badge?(i(),p(t,T({key:0},e.badgeProps,{class:e.n("badge"),"var-bottom-navigation-item-cover":""}),{default:O(()=>[h(e.$slots,"icon",{active:e.isActive},()=>[e.icon?(i(),p(n,{key:0,name:e.icon,namespace:e.namespace,class:f(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0)])]),_:3},16,["class"])):h(e.$slots,"icon",{key:1,active:e.isActive},()=>[e.icon?(i(),p(n,{key:0,name:e.icon,namespace:e.namespace,class:f(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0)])],2),E("span",{class:f(e.n("label"))},[h(e.$slots,"default",{},()=>[De(se(e.label),1)])],2)],6)),[[s]])}const ge=F({name:ma,components:{VarBadge:ea,VarIcon:ve},directives:{Ripple:Ue},props:be,setup(e){const a=u(()=>e.name),n=u(()=>[a.value,s.value].includes(b.value)),t=u(()=>e.badge===!0?pa:e.badge),{index:s,bottomNavigation:m,bindBottomNavigation:v}=ua(),{active:b,activeColor:C,inactiveColor:l,variant:N}=m;v({name:a,index:s});function K(){var A;const _=(A=a.value)!=null?A:s.value;d(e.onClick,_),d(m.onToggle,_)}return{activeColor:C,inactiveColor:l,badgeProps:t,isActive:n,variant:N,n:da,classes:fa,handleClick:K}}});ge.render=ba;var Y=ge;H(Y);R(Y,be);const ga=Y,ha={class:"h-[var(--app-height)] pb-[51px] overflow-y-auto"},$a=F({__name:"layout",setup(e){const{router:a,route:n}=je(),t=S(),s=S([{label:"HOME",icon:"home",name:"/layout/home"},{label:"TOPIC",icon:"heart",name:"/layout/topic"},{label:"MESSAGE",icon:"border-radius",namespace:"i",name:"/layout/message"},{label:"PROFILE",icon:"account-circle",name:"/layout/profile"}]);G(()=>n.path,v=>{t.value=v},{immediate:!0});function m(v){a.replace(v)}return(v,b)=>{const C=B("router-view"),l=ga,N=va;return i(),y("div",ha,[z(C,null,{default:O(({Component:r})=>[(i(),p(Ge,null,[(i(),p(ze(r)))],1024))]),_:1}),z(N,{"safe-area":"",fixed:"",active:t.value,"onUpdate:active":b[0]||(b[0]=r=>t.value=r)},{default:O(()=>[(i(!0),y(ce,null,He(s.value,r=>(i(),p(l,{key:r.label,label:v.$t(r.label),icon:r.icon,name:r.name,namespace:r.namespace,onClick:()=>m(r.name)},null,8,["label","icon","name","namespace","onClick"]))),128))]),_:1},8,["active"])])}}});export{$a as default};
