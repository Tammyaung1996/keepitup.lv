import{s as x,u as ee}from"./formDetails-g-zprVQ3.js";import{e as ae,b as oe,f as ie,g as le}from"./icon-4BzMejV4.js";import{V as y,G as ne,j as z,a4 as A,O as $,o as C,C as w,D as m,X as g,K as u,L as se,y as E,d as re,r as F,ad as te,c as k,aM as o,$ as d,ai as N,ae as de,al as M,n as ue,aN as ve,aO as he,S as ce,U as fe}from"./__uno--KafPJDN.js";const R={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},lazyChange:Boolean,disabled:Boolean,readonly:Boolean,loading:Boolean,color:String,loadingColor:String,closeColor:String,size:[String,Number],variant:Boolean,rules:Array,ripple:{type:Boolean,default:!0},buttonElevation:{type:[Boolean,String,Number],default:!0},validateTrigger:{type:Array,default:()=>["onChange","onLazyChange"]},onClick:y(),onBeforeChange:y(),onChange:y(),"onUpdate:modelValue":y()},{name:ge,n:me,classes:ye}=ne("switch"),pe=e=>(ve(""),e=e(),he(),e),be=["aria-checked"],Ce=["tabindex"],we=pe(()=>m("svg",{viewBox:"25 25 50 50"},[m("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1)),ke=[we];function Ve(e,l){const v=z("var-hover-overlay"),p=z("var-form-details"),i=A("ripple"),h=A("hover");return $((C(),w("div",{class:u(e.classes(e.n(),[e.variant,e.n("--variant")])),role:"switch","aria-checked":e.modelValue},[m("div",{ref:"switchRef",class:u(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disabled")],[e.isActive,e.n("block--active")])),style:g(e.styleComputed.switch),onClick:l[2]||(l[2]=(...c)=>e.switchActive&&e.switchActive(...c))},[m("div",{style:g(e.styleComputed.track),class:u(e.classes(e.n("track"),[e.isActive,e.n("track--active")],[e.errorMessage&&!e.variant,e.n("track--error")]))},null,6),$((C(),w("div",{class:u(e.classes(e.n("ripple"),[e.isActive,e.n("ripple--active")])),style:g(e.styleComputed.ripple),tabindex:e.disabled||e.formDisabled?void 0:"0",onFocus:l[0]||(l[0]=c=>e.isFocusing=!0),onBlur:l[1]||(l[1]=c=>e.isFocusing=!1)},[m("div",{style:g(e.styleComputed.handle),class:u(e.classes(e.n("handle"),e.formatElevation(e.buttonElevation,2),[e.isActive,e.n("handle--active")],[e.errorMessage&&!e.variant,e.n("handle--error")],[e.hovering,e.n("handle--hover")]))},[e.loading?(C(),w("span",{key:0,class:u(e.n("loading")),style:g({width:e.radius,height:e.radius})},[...ke],6)):se("v-if",!0)],6),E(v,{hovering:e.hovering&&!e.disabled&&!e.formDisabled,focusing:e.isFocusing&&!e.disabled&&!e.formDisabled},null,8,["hovering","focusing"])],46,Ce)),[[i,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled||e.readonly||e.formReadonly}]])],6),E(p,{"error-message":e.errorMessage},null,8,["error-message"])],10,be)),[[h,e.hover,"desktop"]])}const L=re({name:ge,components:{VarFormDetails:x,VarHoverOverlay:ae},directives:{Ripple:oe,Hover:ie},props:R,setup(e){const l=F(null),v=F(!1),{bindForm:p,form:i}=ee(),{errorMessage:h,validateWithTrigger:c,validate:T,resetValidation:B}=te(),{hovering:U,handleHovering:H}=le(),s=k(()=>e.modelValue===e.activeValue),I=k(()=>{const{size:a,color:r,closeColor:t,loadingColor:f,variant:n}=e;return{handle:{width:o(a),height:o(a),backgroundColor:s.value?r:t,color:f},ripple:{left:s.value?o(a,.5):"-".concat(o(a,n?1/3:.5)),color:s.value?r:t||"currentColor",width:o(a,2),height:o(a,2)},track:{width:o(a,n?13/6:1.9),height:o(a,n?4/3:.72),borderRadius:o(a,2/3),filter:s.value||h!=null&&h.value?void 0:"brightness(".concat(n?1:.6,")"),backgroundColor:s.value?r:t,borderWidth:n&&!s.value?o(a,1/12):void 0},switch:{width:o(a,n?13/6:2),height:o(a,n?4/3:1.2)}}}),O=k(()=>o(e.size,.8));d(p,{reset:X,validate:W,resetValidation:B}),N(()=>window,"keydown",P),N(()=>window,"keyup",K);function P(a){v.value&&((a.key===" "||a.key==="Enter")&&M(a),a.key==="Enter"&&l.value.click())}function K(a){!v.value||a.key!==" "||(M(a),l.value.click())}function W(){return T(e.rules,e.modelValue)}function S(a){ue(()=>{const{validateTrigger:r,rules:t,modelValue:f}=e;c(r,a,t,f)})}function j(a){const{onClick:r,onChange:t,disabled:f,loading:n,readonly:q,activeValue:J,inactiveValue:Q,lazyChange:Y,"onUpdate:modelValue":D,onBeforeChange:Z}=e;if(f||i!=null&&i.disabled.value||(d(r,a),n||q||i!=null&&i.readonly.value))return;const b=s.value?Q:J;Y?d(Z,b,_=>{d(D,_),S("onLazyChange")}):(d(t,b),d(D,b),S("onChange"))}function G(a){e.disabled||i!=null&&i.disabled.value||H(a)}function X(){d(e["onUpdate:modelValue"],e.inactiveValue),B()}return{isActive:s,switchRef:l,hovering:U,isFocusing:v,radius:O,styleComputed:I,errorMessage:h,formDisabled:i==null?void 0:i.disabled,formReadonly:i==null?void 0:i.readonly,n:me,classes:ye,formatElevation:de,multiplySizeUnit:o,switchActive:j,hover:G}}});L.render=Ve;var V=L;ce(V);fe(V,R);const Ae=V;export{Ae as _};
